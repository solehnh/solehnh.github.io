
<table width="100%" align="center">
	<tr>
		<td width="50%">
			<fieldset style="height:120">
				<legend><b> SNH Chiper | Encrypt </b></legend>
				<textarea rows="4" name="pesan" class="pesan" id="pesan" cols="87" ></textarea>
				<br/><br/>
				<button type="submit" id="enkrip">Encryp</button>
			</fieldset>
		</td>
		<td width="50%">
			<fieldset style="height:120">
				<legend><b> Result </b></legend>
				<textarea rows="4" class="hasil" id="hasil" cols="87" ></textarea>
			</fieldset>
		</td>
	</tr>
<table>

<table width="100%" align="center">
	<tr>
		<td width="50%">
			<fieldset style="height:120">
				<legend><b> SNH Chiper | Decrypt </b></legend>
				<textarea rows="4" name="pesandek" class="pesandek" id="pesandek" cols="87" ></textarea>
				<br/><br/>
				<button type="submit" id="dekript">Decrypt</button>
			</fieldset>
		</td>
		<td width="50%">
			<fieldset style="height:120">
				<legend><b> Result </b></legend>
				<textarea rows="4" class="hasildek" id="hasildek" cols="87" ></textarea>
			</fieldset>
		</td>
	</tr>
<table>

<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous">  
</script>
<script>
$("#enkrip").on("click",function(){
  var pesan=$("#pesan").val();
  var hasil=pesan.split("").map(v => v.charCodeAt(0).toString(2)).map( v => '0'.repeat(8-v.length)+v).join('');
  var hasil1=hasil.replace(/01/g,'0,1').replace(/10/g,'1,0');
  
  var split = hasil1.split(",");
  
  var a=split.join("","");
  
  var enkript=[];
  
  console.log(hasil1);
  console.log(split[0]);
  for (i=0;i < split.length; i++){
	//var b = split[i].charAt(0)+ " ana " + split[i].length;
	var b = split[i].length;
	//console.log(b);
	
	enkript[i]=split[i].length;
  }
  console.log(enkript);
  
  
  $('#hasil').html(enkript); 
});

$("#dekript").on("click",function(){
  var pesan=$("#pesandek").val();
  var dekript=[];
  for (i = 0; i < pesan.length; i++) {
    dekript[i] = ( i % 2).toString().repeat( pesan[i] )
	 
}
  //var bin2int = s => Array.prototype.reduce.call(s, (p,c) => p*2 + +c)
  var hasil = dekript.join('').match(/.{8}/g);
  var a=[];
  for(j=0;j<hasil.length;j++){
	var b= String.fromCharCode(parseInt(hasil[j],2));
	a[j]=b;
  }
  
  $('#hasildek').html(a); 
});

</script>

